{% extends 'base.html.twig' %}

{% block title   %} Potager de  {{user.nickname}} {% endblock %}

{% block stylesheets %}
    {{ parent() }}
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('style') }}
    {{ encore_entry_script_tags('print') }}
{% endblock %}

{% block body %}
<div class="wrapper text-center">
    <div class="row cadre_blanc_no_border">
        <div class="entete_user">
            <h5 class="colorrose">{{user.nickname}}</h5>
            {% if user.avatar %}
                <a href="javascript:display_photo('{{ vich_uploader_asset(user.avatar) }}','500','500','Photo de profil')">
                    <h1><img src="{{ vich_uploader_asset(user.avatar) }}" alt="Image" class="img-circle" width="80" height=80></h1>
                </a>
            {% endif %}
        </div>
        <div class="entete_stat">
            {{ include('garden/show/apercu_public.html.twig', { 'r_byuser' : r_byuser, 'calories' : calories, 'user' : user }) }}
        </div>
    </div>
    <div class="stars {{ friend == 1 ? 'rating_no' : 'rating' }}">
        <a href="{{ path('ami',{'id': user.id}) }}"
           data-user="{{ user.id }}"
           class="suivis">
            <i class="fa {{ friend == 1 ? 'fa-star gold' : 'fa-star' }}"> <span class="infosuiveur">{{ friend == 1 ? 'Jardinier suivi' : 'Suivre ce jardinier' }}</span></i>
        </a>
    </div>
    <div id="content">
        <p><strong>Statistiques</strong></p>
        <p>
            {% set isGardenPast = route_name == 'app_show_garden_past_year' %}
            {% set isGarden = route_name == 'app_show_garden' %}
            <a class="filtre{{ isGardenPast ? ' noir_fonce' }}" href="{{ path('app_show_garden_past_year',{'nickname': user.nickname}) }}" style="color:#a69b97;">
                2022
            </a>
            <a class="filtre{{ isGarden ? ' noir_fonce' }}" href="{{ path('app_show_garden',{'nickname': user.nickname}) }}" style="color:#a69b97;">
                2024
            </a>
        </p>
            {{ include('garden/commun/_content.html.twig', {'p_byuser' : p_byuser, 'r_byuser' : r_byuser, 'user' : user }) }}
    </div>
    <br/>
        <p><strong>Communaut√©</strong></p>
        {{ include('garden/show/publication.html.twig', { 'fluxes': fluxes , 'user' : user })}}
        {% set classe = "row cadre_blanc" %}
        {{ include('garden/commun/amis.html.twig', { 'amis': amis , 'user' : user, 'classe' : classe })}}
</div>

{% endblock %}
